function preAddUSer(userName, momentoName){
	var myRef = firebase.database().ref('/users');
	myRef.update({[userName]: {color: "blue", momentos: {[momentoName]: momentoName}}});
}

//Helper function to "inviteUserToMomento." function -- associate a momento with a user account. 
function grantUserMomento(userName, momentoName){
	var myRef = firebase.database().ref('/users/' + userName +'/momentos');
	myRef.update({[momentoName]: momentoName});
}


//myMomento.update({[title]: {title: title, description: description, imageUrl: imageURL, time: time}});
//BYDefault, you either create a "first momento," or join an already accessible momento

//remember, call the "emailToHeader" method to get the proper username
function inviteUserToMomento(userName, momentoName){
	var myRef = firebase.database().ref('/users/');
	myRef.once('value').then(function(snapshot)
	{
		var data = snapshot.val();	
		//If user exists, add the momento to their "list of momentos"
		if(data[emailToHeader(userName)] !== undefined){
			grantUserMomento(userName, momentoName);
		}
		//If the user does not exist, create them on the DataBase!
		else{
			preAddUSer(userName, momentoName);

		}
	})		
}

//inviteUserToMomento("doesntExist1", "ChrisMomento");
